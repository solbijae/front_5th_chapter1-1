import{H as a,N as u,u as n,L as s,P as m}from"./NotFound-DXgjgnk_.js";const c={"/":()=>a(),"/login":()=>n.isLoggedIn()?(o("/"),a()):s(),"/profile":()=>n.isLoggedIn()?m():(o("/login"),s())},o=e=>{window.history.pushState({},"",e),r()},r=()=>{const e=document.getElementById("root");e.innerHTML=l()},l=()=>{const e=window.location.pathname;return(c[e]||(()=>u()))()},i={getLoginFormData(){return document.getElementById("username").value},getProfileFormData(){return{username:document.getElementById("username").value,email:document.getElementById("email").value,bio:document.getElementById("bio").value}}},d=e=>{e.preventDefault();const t=i.getLoginFormData();n.setUser({username:t,email:"",bio:""}),o("/profile")},g=()=>{n.clearUser(),o("/login")},f=()=>{const e=n.getUser(),t=i.getProfileFormData();n.setUser({...e,...t}),o("/profile")},p=()=>{document.addEventListener("click",e=>{if(e.target.matches("a")){e.preventDefault();const t=e.target.getAttribute("href");o(t)}e.target.matches("#logout")&&(e.preventDefault(),g())}),document.addEventListener("submit",e=>{e.target.matches("#login-form")&&(e.preventDefault(),d(e)),e.target.matches("#profile-form")&&(e.preventDefault(),f())})};p();window.addEventListener("popstate",r);document.addEventListener("DOMContentLoaded",function(){r()});
